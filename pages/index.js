import Head from "next/head";
import Image from "next/image";
import BackgroundImage from "../components/cards/backgroundImageCard";
import CountryLeaguesCard from "../components/countryLeagueCollection/countryLeaguesCard";
import DetailsCard from "../components/cards/detailsCard";
import OtherCollections from "../components/cards/otherCollections";
import Heading from "../components/Heading/headings";
import Hero from "../components/hero/hero";
import PopularProducts from "../components/popularProducts/popularProducts";
import {
  getBanner,
  getCollectionsCategories,
  getPopularProducts,
  getSingleCollectionCategory,
  getSingleProduct,
} from "./api/hello";
import CountryLeagueCollection from "../components/countryLeagueCollection/countryLeagueCollection";

export default function Home({
  banners,
  collectionsCategories,
  popularProducts,
  singleCollectionCategory,
  singleProduct,
}) {
  console.log(collectionsCategories);
  return (
    <div className="">
      <Head>
        <title>Home</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>

      <div className="lg:space-y-10 lg:p-10">
        <Hero banners={banners} />
        <div className="grid w-full grid-cols-2 gap-4 p-4 lg:h-40 lg:grid-cols-4 lg:p-0">
          <DetailsCard
            icon="truck"
            topic="Secure Shipping"
            body="on all orders"
          />
          <DetailsCard icon="phone" topic="Telephone" body="+1 23 456 7890" />
          <DetailsCard
            icon="whatsapp"
            topic="Chat WhatsApp"
            body="Mon – Fri: 9:00 – 21:00  •  Sat – Sun: 9:00 – 17:00"
          />
          <DetailsCard
            icon="check-badge"
            topic="Quality Guarantee"
            body="Verified Purchase Reviews"
          />
        </div>
      </div>
      <div className="relative w-40 lg:-ml-10 h-14">
        <Image
          src="/assets/icons/svg/rewards-badge.svg"
          alt="rewards badge"
          layout="fill"
        />
      </div>
      <div className="relative px-4 py-3 pb-20 space-y-20 lg:p-20">
        <PopularProducts data={popularProducts} />
        <CountryLeagueCollection
          data={collectionsCategories.data.filter(
            (categories) => categories.title === "Country Leagues"
          )}
        />
        <section className="w-full ">
          <Heading text="Other Collections" />
          <div className="grid grid-cols-2 gap-5 lg:gap-12 lg:grid-cols-3">
            <OtherCollections text="Kids" image="kids" />
            <OtherCollections text="Large sizes" image="large-sizes" />
            <OtherCollections text="Goalkeeper" image="goalkeeper" />
            <OtherCollections
              text="Authentic / Pro Player"
              image="pro-player"
            />
            <OtherCollections text="shorts" image="shorts" />
            <OtherCollections text="socks" image="socks" />
          </div>
        </section>
        <section className="w-full ">
          <BackgroundImage />
        </section>
      </div>
    </div>
  );
}

export async function getStaticProps() {
  const banners = await getBanner().then((res) => res.banners);
  const collectionsCategories = await getCollectionsCategories().then(
    (res) => res.categories
  );
  const popularProducts = await getPopularProducts().then(
    (res) => res.products
  );
  console.log(popularProducts);
  return {
    props: {
      banners,
      collectionsCategories,
      popularProducts,
    },
  };
}
